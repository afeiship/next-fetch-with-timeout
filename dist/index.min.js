/*!
 * name: @jswork/next-fetch-with-timeout
 * description: Fetch with timeout options.
 * homepage: https://github.com/afeiship/next-fetch-with-timeout
 * version: 1.0.0
 * date: 2020-11-21 09:05:57
 * license: MIT
 */
!function(){var t=this||window||Function("return this")(),u=t.nx||require("@jswork/next"),l={timeout:3e4,AbortController:t.AbortController};u.fetchWithTimeout=function(r){return function(t,n){var o=new(e=u.mix(null,l,n)).AbortController,e=u.mix({signal:o.signal},e),i=setTimeout(function(){o.abort()},e.timeout);return new Promise(function(n,o){r(t,e).then(function(t){clearTimeout(i),n(t)}).catch(function(t){o(t)})})}},"undefined"!=typeof module&&module.exports&&(module.exports=u.fetchWithTimeout)}();